<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Meghadutam – The Cloud’s Journey</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

<style>
/* -------- GLOBAL -------- */
body {
    margin: 0;
    font-family: "Georgia", "Times New Roman", serif;
    color: #e6dccf;
    background:
        radial-gradient(circle at 20% 30%, rgba(255,255,255,0.06), transparent 60%),
        radial-gradient(circle at 80% 70%, rgba(255,255,255,0.04), transparent 65%),
        repeating-linear-gradient(
            45deg,
            rgba(255,255,255,0.02),
            rgba(255,255,255,0.02) 2px,
            transparent 2px,
            transparent 6px
        ),
        #2a241c;
    overflow-x: hidden;
}

h1 {
    text-align: center;
    padding: 30px 10px 10px;
    letter-spacing: 2px;
    color: #e0c9a3;
    font-weight: normal;
}

/* -------- LAYOUT -------- */
#container {
    display: flex;
    height: 100vh;
}

#map {
    position: sticky;
    top: 0;
    width: 50%;
    height: 100vh;
    border-right: 1px solid #3d3226;
}

/* Scroll narrative */
#story {
    width: 50%;
    overflow-y: auto;
    padding: 40px 6%;
}

.section {
    min-height: 100vh;
    padding: 40px 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.section h2 {
    color: #d8c3a5;
    font-weight: normal;
    margin-bottom: 10px;
}

.section p {
    font-size: 17px;
    line-height: 1.7;
    max-width: 520px;
}

.section img {
    width: 100%;
    max-width: 520px;
    border-radius: 10px;
    margin: 18px 0;
    border: 1px solid #4a3c2c;
    box-shadow: 0 6px 14px rgba(0,0,0,0.4);
}

a.link {
    color: #d4b88a;
    text-decoration: none;
    border-bottom: 1px solid #bfa57a;
    width: fit-content;
}

a.link:hover {
    color: #f0d9a8;
}

/* -------- MAP PINS -------- */
.custom-pin {
    width: 18px;
    height: 18px;
    background: #bfa57a;
    border-radius: 50% 50% 50% 0;
    transform: rotate(-45deg);
    box-shadow: 0 0 6px rgba(0,0,0,0.6);
}

.custom-pin::after {
    content: "";
    width: 8px;
    height: 8px;
    background: #3b2f24;
    position: absolute;
    top: 5px;
    left: 5px;
    border-radius: 50%;
}

/* Mobile */
@media (max-width: 900px) {
    #container {
        flex-direction: column;
    }
    #map {
        width: 100%;
        height: 45vh;
        position: relative;
    }
    #story {
        width: 100%;
        padding: 30px 20px;
    }
}
</style>
</head>

<body>

<h1>Meghadutam — The Cloud’s Journey</h1>

<div id="container">
    <div id="map"></div>

    <div id="story">
        <section class="section" data-lat="23.5" data-lng="78.5">
            <h2>Svāgataṃ</h2>
            <p>
                Follow the path of the cloud messenger across sacred landscapes,
                where poetry, memory, and geography become one.
            </p>
        </section>

        <section class="section" data-lat="21.3972" data-lng="79.3271">
            <h2>Ramagiri</h2>
            <img src="https://upload.wikimedia.org/wikipedia/commons/1/1e/Ramtek_Temple.jpg">
            <p>A hill of exile and longing — where the cloud first receives its message.</p>
            <a class="link" href="/blog/ramtek">Read more →</a>
        </section>

        <section class="section" data-lat="22.6749" data-lng="81.7596">
            <h2>Amrakuta</h2>
            <img src="https://upload.wikimedia.org/wikipedia/commons/4/48/Amarkantak.jpg">
            <p>The birthplace of rivers, sacred and eternal.</p>
            <a class="link" href="/blog/amarkantak">Read more →</a>
        </section>

        <section class="section" data-lat="23.5251" data-lng="77.8081">
            <h2>Vidisha</h2>
            <img src="https://upload.wikimedia.org/wikipedia/commons/7/7c/Vidisha_Udayagiri.jpg">
            <p>Where Gupta stone remembers devotion and power.</p>
            <a class="link" href="/blog/vidisha">Read more →</a>
        </section>

        <section class="section" data-lat="23.1765" data-lng="75.7885">
            <h2>Ujjayini</h2>
            <img src="https://upload.wikimedia.org/wikipedia/commons/9/9f/Mahakaleshwar_Temple.jpg">
            <p>The city where time itself kneels before Mahākāla.</p>
            <a class="link" href="/blog/ujjain">Read more →</a>
        </section>
    </div>
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
const map = L.map('map', { zoomControl: false }).setView([23.5, 78.5], 6);

L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
    attribution: '© OpenStreetMap'
}).addTo(map);

const pinIcon = L.divIcon({
    className: '',
    html: '<div class="custom-pin"></div>',
    iconSize: [18, 18],
    iconAnchor: [9, 18]
});

document.querySelectorAll('.section').forEach(section => {
    const lat = section.dataset.lat;
    const lng = section.dataset.lng;
    if (!lat || !lng) return;

    const marker = L.marker([lat, lng], { icon: pinIcon }).addTo(map);

    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                map.flyTo([lat, lng], 7, { duration: 1.5 });
            }
        });
    }, { threshold: 0.6 });

    observer.observe(section);
});
</script>

</body>
</html>
